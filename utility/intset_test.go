package utility_test

import (
	// "fmt"
	"testing"
	// "time"
	"strings"

	. "github.com/bawjensen/dataplay/utility"
)

func TestNewIntSet(t *testing.T) {
	intSet := NewIntSet()

	if size := intSet.Size(); size != 0 {
		t.Errorf("Empty IntSet size should be 0: %d", size)
	}


	popIntSet := NewIntSet(1, 2, 3)

	if size := popIntSet.Size(); size != 3 {
		t.Errorf("Prepopulated with unique elements IntSet size should be 3: %d", size)
	}


	dupIntSet := NewIntSet(1, 1, 1, 1, 2, 3)

	if size := dupIntSet.Size(); size != 3 {
		t.Errorf("Prepopulated with duplicated elements IntSet size should be 3: %d", size)
	}
}

func TestString(t *testing.T) {
	intSet := NewIntSet(1)

	result := intSet.String()

	if !strings.Contains(result, "1") {
		t.Errorf("Stringed version of an IntSet with the element '1' should contain the substring '1': %s", result)
	}
}

func TestAdd(t *testing.T) {
	intSet := NewIntSet()

	for i := 0; i < 10; i++ {
		intSet.Add(int64(i))
	}

	if size := intSet.Size(); size != 10 {
		t.Errorf("Empty IntSet with 10 unique elements Add()'ed should have size 10: %d", size)
	}


	dupIntSet := NewIntSet()

	for i := 0; i < 10; i++ {
		dupIntSet.Add(0)
	}

	if size := dupIntSet.Size(); size != 1 {
		t.Errorf("Empty IntSet with 10 duplicated elements Add()'ed should have size 1: %d", size)
	}
}

func TestRemove(t *testing.T) {
	intSet := NewIntSet()

	intSet.Remove(1)
}

func TestHas(t *testing.T) {
	
}

func TestUnion(t *testing.T) {
	
}

func TestUnionWithout(t *testing.T) {
	
}

func TestSubtract(t *testing.T) {
	intSet1 := NewIntSet(31709774,19770082,27365837,19920510,69301989,162762,21611049,26727450,31555234,22348048,20698282,31281326,49909104,31533800,22046494,25097128,24777351,34849307,36733439,39429300,37462335,46295707,25452628,22246967,21738406,38331665,32608320,65319270,21332616,43146839,28725499,27794083,22479740,53364504,27344836,532825,48119569,525607,19926474,25739133,20203681,38384295,21489141,27840159,48544082,35155749,32932398,26190939,19637662,24831995,32235221,54953447,25145157,32513697,21337269,24875971,35021554,35018026,20726321,19794380,31616072,20745307,32002853,39172527,19470447,26383788,38009899,22005573,28718115,57539163,6760,21050172,20176128,262255,28609701,24650555,29689285,20800991,23501475,32311909,20430775,39000721,19346988,27253842,45344815,21380690,45811724,37009400,49188821,35564007,21399577,71376,39812832,23481993,20805313,39732395,21944884,31300188,20074883,21103810,21903966,47706407,44979338,19985596,19840077,40938801,55679403,21608827,282820,27192472,30420625,28725693,38800125,30157149,23623012,21014987,28910586,28960942,44989362,19891043,26600205,23162404,34761215,22638316,38752601,21339787,68063155,22506647,24694433,24084151,21402067,19551420,22507642,31198030,25387339,7250,19024395,20971635,40021837,24629541,38038926,30125892,32578662,200553,20218485,24896116,27401229,25743455,47008091,37783369,68469188,22417049,23167277,36488045,23050296,48061115,30155896,22951043,19602876,21289227,19674238,34925733,53407717,37338883,36847124,20103061,20739331,21701239,39496821,24560785,58060767,30004312,24509853,66939106,25433476,19884671,22079096,48635178,30106256,62372968,19912685,20479845,32638311,22742073,49913379,23293091,33449302,19988289,19286710,30405301,30420708,48604209,89197,34725029,20971952,35681528,34687275,21128221,23180343,26085419,20303983,26414130,31209421,24595867,64290527,53916,40835255,19227644,22437008,28474419,28464944,22991489,36782900,272354,30743640,20045790,26675704,33121784,20515552,28329804,37481045,34945259,22076548,23204114,29173217,61542283,40454272,25104341,22230418,47744439,24494578,47594464,69709179,22738595,23312599,22946930,39127242,21009507,54886348,23681648,52754982,39262085,52394864,55812514,446965,24801053,37250534,20255471,20037104,21428926,32898052,34191325,22923115,26184155,49194182,20142680,32517680,28800808,25850956,32622871,49399151,380646,20026847,36349557,138243,19139834,24981718,30936371,29820724,37130772,31804754,24618834,24945668,27291302,43501045,224189,54370988,20941323,32867184,22298866,24934464,34440853,29200584,69699239,39740506,294827,19063356,19742611,19787999,19887289,42220012,36719319,34051447,19398382,23888144,21966037,32311174,23747879,465551,65009177,69802538,26676087,50493382,20156016,23479635,29810243,70439999,20579425,27737942,57809121,24383417,65871129,24822862,53752069,19146984,30512424,25033032,112438,40984753,31193328,19300221,68479260,21274949,21616758,26573561,50525968,30190776,20415911,19648146,65550074,28424427,30871780,34243185,24671130,20000490,61840219,26379711,35225679,33079321,62000829,19936601,30587285,65409096,35703236,35501485,39880935,22597639,21147146,24803075,40703542,22079480,26530897,64887680,31481913,349795,23487274,20833616,25888946,41782241,27051269,44952557,32299406,22156402,21521745,32361559,419122,30871884,35072295,48992023,37542769,34583468,28700797,20451431,20764411,49509426,22991783,20220845,21911338,21549025,39724091,62269612,45620397,20779460,52378713,36433065,43860634,24142707,32653422,41849258,31412372,21841455,35110752,32549869,69892366,31988221,31839671,36111109,51589239,35221469,36450379,52372786,28452508,39026110,67056211,21747804,23907782,20967047,30575166,19196558,26059648,46138193,35409134,66479175,29165162,19275647,23802387,21070321,61587712,23175236,23521729,22741717,54932626,19285521,19296564,47497227,34133797,10841,25244896,19160282,28908540,34794390,25184443,20435125,49943354,19930588,31937841,38354012,27519370,26851284,286367,29182819,39630512,22079996,47586386,19967304,20635475,20389591,26289546,32171663,30636032,52424,32409389,32646404,25329778,23480550,63617158,21269385,377078,65989131,45609269,22336602,23022024,621,26849061,19665819,66052640,29429678,49235043,42018127,20783487,21803053,19577112,20024227,245353,65409092,507907,45839933,449015,47476669,21498922,24693344,32604173,43313293,46995097,22058309,40256136,51802872,20460150,22180208,26123163,60004918,40129524,21032820,35590582,19969614,23353829,69693461,39909593,25166026,23454727,20533841,21276764,66401633,38363660,21136014,19986595,35356220,32652245,54888638,22277779,19417270,22018483,34807542,20077628,442232,19895112,30046249,30421234,35433792,23534118,65809586,37243932,30845374,21390175,20471282,40999945,39889138,23453976,25182973,41778610,37172692,19232453,21324344,27375750,21451895,22478427,35982575,22466118,50169258,19698094,22431892,22325691,59788859,74673,56539083,20078731,28901185,26579787,31559474,35570736,37827053,22292020,20610274,23910778,58829159,24293682,28571370,70463433,47440179,31602758,27470522,21883744,56539172,34983603,22403576,19202414,31291239,59685,24682680,31014009,25051045,39544048,21557951,44879120,23905873,26504490,22488334,49159160,31274923,19771578,34671417,71715,20577176,65409100,26492102,40260330,22344323,34581332,22015124,27380863,32392626,20026563,26463128,22006649,46810093,100311,47727314,25183879,21786647,32158564,31473563,36653735,390600,45459632,377115,37876161,45794985,26043408,24889598,24598309,35436352,19061980,30085971,71289337,61919858,25403638,21910088,44701154,65399100,28661557,42133105,13297,36071571,39894624,39716911,22224,31585438,20438735,26762843,25317334,29622480,19806051,38911306,23984272,19816394,32500610,32292994,44979324,23047261,24295656,21025429,23636033,19199530,24967788,39957695,36847039,21542029,31043122,35490378,34185863,19579128,345223,19873955,22300476,21428047,23460230,21169018,31436405,44080111,23909723,20735218,23959242,20420483,20955426,43197599,21238911,564332,43202645,20704242,22190313,48175336,25365869,36102181,29683689,69719185,50887553,19696606,21600556,47165206,13930,24826080,170340,20826894,27312905,20040312,19891056,25010413,1496,19738326,20188483,37910602,22842898,22717779,24423376,22681046,53373482,28909536,24197453,48171912,22466506,28437579,52559520,28039649,34304697,24837798,32530876,45668239,35592112,39512940,23965783,21084089,307822,20484031,25322289,20115278,23162549,22216718,50490414,39439924,25531419,35127480,20589950,22874084,20372532,60729817,43230548,30385447,25826554,21101332,25786675,20901439,27231963,20947579,19903923,43042552,20474918,20109359,4297,59728303,68212693,21456134,30313305,37383191,19798713,20112175,60902700,19405174,24413191,37350711,30701409,22778657,30854670,23820400,29524444,22141445,48405293,23694674,20188316,26114733,24332462,19275688,26433007,47694043,21032154,581716,19732914,34586908,26183864,19855198,22947917,263143,477806,19082810,22955225,31253181,24491732,44989089,30255016,60783,20707863,193759,295093,57029178,23387789,32490785,29360758,25690936,33660106,37928970,19998293,20239565,41926290,20153677,21328590,32761412,22993033,21851948,20397533,47836799,50670855,23519789,56827915,64030506,19673619,21794465,40940032,20942144,32016710,23338989,66033804,21000228,24615093,20576181,22880617,48717216,26289480,42980283,50660853,20308239,24922145,23557909,44979352,36772950,47371195,23899576,28987430,21328540,21144092,22724185,48547745,129380,31324382,19804152,68401488,19760803,58151140,29248275,398566,38674894,22531788,39040566,43229297,19360235,39009460,21645177,25245315,21806931,26229687,20067790,36021684,29019247,26379781,71289430,20411671,21131448,26314816,22138282,31087193,25220748,56579871,34988626,44317220,32672912,184677,606361,25833940,51143630,21701053,38082323,20647804,20617279,38249375,23702362,40531190,28949426,32730899,23897083,26146040,22416752,20648863,26757540,20506628,34523885,19374100,33089599,29442668,47651522,2648,25885129,37856607,26326170,65563558,25243945,33359979,23636043,19178437,23162732,21490433,19250176,21334422,21652056,20694218,68799156,66879182,20327440,19903970,32616425,34430571,35796485,60645357,23040080,40300130,31271272,39933815,31997073,31133671,23760377,19920105,24105870,52287069,21752602,30963391,49376137,38695190,27921067,22372028,21274145,28880869,21147856,23010419,48443712,22824171,21398230,21539405,28336680,22991854,21960141,21211528,22558389,23196919,401169,45200856,58461138,20197810,50149095,70573527,26082266,19877155,22140119,22440389,272132,22603926,19088327,49429660,19202854,39537646,23907257,21366420,37370762,36708626,39172600,19616469,19098490,30341460,25935242,37446426,26437250,23855467,35329178,59902309,32400810,21947923,25969725,22058902,50857,25005620,22617275,49949377,28749880,49300317,25116379,29648534,295500,20962399,32969037,19912360,28375571,44989349,19734168,19723956,21623482,298663,63653079,21124626,23350752,51585316,23632567,22059766,22685289,66089630,35613563,23213125,20962682,28665759,31670053,26124635,28920560,42210864,25738593,20706861,568629,21193669,34812485,20456290,30582336,62583231,30279790,23765764,58870068,43168362,21390649,18991200,20344570,26065445,26844580,23799824,19912423,29658214,19875787,34287847,22645232,19209176,21367804,29187801,31124201,38809624,71289187,32956830,30000940,45188079,28972644,70029223,26400020,28650045,19484622,20408688,44664326,21429782,20914354,20033027,33110307,21714331,22205540,37838557,23006239,28690500,71899154,26522373,40141387,20284768,35459615,31564409,22634595,20001980,35890783,21208070,21208280,36119978,60339260,19019472,60939398,45596407,19268528,47559496,5908,49983291,35301382,30206248,19245322,24498822,24697499,36911333,32239609,21478812,19424219,38857618,30266347,53801673,25479108,57029156,42872994,53927322,19099654,38839329,55414883,38887759,22928703,21726097,25158609,19682819,20823651,22879711,27049826,292926,22949200,20072604,43810935,23960460,40429161,21586721,56397325,68499446,20082683,448372,22963965,20131827)
	intSet2 := NewIntSet(21883744,25182973,21000228,27840159,22634595,48717216,26727450,21490433,20971952,21478812,22645232,70463433,21009507,31564409,23453976,32171663,27365837,34051447,22079096,22597639,25244896,47371195,53752069,40429161,22138282,28949426,60902700,68063155,23519789,56539083,20474918,25184443,25158609,55679403,25097128,20220845,40703542,36071571,24560785,245353,35890783,31043122,22018483,23167277,22824171,26184155,45839933,30701409,37462335,22058902,10841,20078731,47744439,40999945,37243932,22963965,23888144,42220012,31585438,26433007,22949200,21557951,34185863,32530876,19202854,19024395,21025429,33110307,23909723,19579128,20962399,39172527,39026110,21701053,54370988,21851948,19920105,74673,51143630,23387789,37838557,21147146,41782241,44979324,19903970,525607,68479260,31988221,44664326,27737942,28464944,22880617,68401488,25479108,19891043,26124635,30279790,50149095,25786675,57029178,57809121,21841455,21390175,45609269,21274145,37856607,65989131,50660853,35459615,22292020,38674894,30313305,20072604,28972644,40940032,19417270,22416752,31087193,21328540,35072295,60339260,23747879,32292994,19877155,20372532,26326170,25104341,26579787,44701154,52424,28437579,20430775,29173217,27253842,61919858,20506628,39496821,45596407,36708626,21747804,23204114,47497227,19296564,37383191,23162549,35436352,28718115,21600556,19912685,21623482,27312905,32311174,22230418,37009400,30155896,26600205,23213125,19674238,39933815,21193669,19374100,48547745,19019472,22991783,32652245,71289430,32311909,36488045,19178437,89197,24967788,19794380,36433065,34243185,47706407,20308239,24981718,38082323,39127242,48175336,20576181,21131448,23984272,48992023,38363660,19061980,23175236,20037104,24084151,19840077,25145157,26146040,32158564,38038926,20460150,29442668,49909104,22617275,48544082,25690936,22005573,28452508,20833616,32016710,39537646,377115,32549869,24671130,21911338,22951043,47559496,39894624,31997073,19300221,21645177,377078,59902309,30512424,37876161,26492102,20805313,20577176,29019247,21101332,224189,26114733,24494578,47165206,24875971,21794465,40260330,23899576,34581332,23959242,19139834,20045790,32400810,56539172,23481993,22488334,35613563,20033027,21806931,32761412,23040080,32730899,28908540,55812514,20327440,20971635,69719185,401169,27401229,21324344,32622871,49429660,20420483,33079321,19245322,53801673,24803075,1496,19673619,68212693,46295707,30385447,69699239,35018026,53364504,34988626,30871780,60939398,24682680,36847124,36119978,21398230,52287069,24697499,24142707,25969725,28800808,380646,64290527,31839671,19470447,22059766,38384295,25888946,24629541,25033032,138243,24197453,20112175,65399100,34945259,22479740,25403638,25365869,49949377,27375750,46810093,31709774,21498922,6760,62000829,24615093,19903923,37130772,43313293,25743455,58870068,22325691,20617279,38331665,20218485,30266347,22190313,69693461,28571370,22079480,51802872,21966037,21428047,19787999,39909593,19969614,26065445,39630512,45459632,54953447,23180343,22874084,48635178,19199530,20823651,30936371,19146984,286367,62269612,21334422,23636043,41778610,32299406,20764411,31555234,25245315,45344815,23312599,23460230,22946930,398566,21208280,29165162,200553,30575166,49509426,47008091,31281326,65409096,37172692,30004312,26229687,21456134,21652056,20109359,19723956,20648863,68799156,22224,30743640,22046494,20589950,18991200,26190939,38800125,263143,28960942,51585316,20411671,21428926,20745307,19202414,112438,22140119,32638311,47440179,21124626,24295656,24413191,26504490,31533800,28901185,56579871,45668239,20479845,19275647,23162732,4297,63653079,42980283,19616469,38695190,19098490,22991854,34687275,19227644,52378713,60729817,49194182,25826554,19967304,20962682,20435125,23632567,24831995,20706861,19891056,39040566,70029223,70439999,581716,34430571,32604173,26530897,69301989,21328590,23905873,19268528,35221469,45811724,19734168,5908,53916,66089630,20239565,28650045,59788859,24822862,23487274,23454727,31198030,20001980,48604209,23022024,28329804,22638316,32409389,61542283,20026563,25317334,19484622,22681046,23293091,28661557,19875787,28920560,22079996,32898052,71899154,19806051,25329778,532825,28880869,27049826,39009460,21332616,38839329,28690500,49188821,35592112,23636033,22558389,21274949,26414130,37338883,22531788,29429678,20826894,44952557,43230548,24889598,38857618,30871884,37370762,21399577,568629,19798713,28424427,22506647,21738406,19988289,40454272,23047261,48405293,20471282,34925733,67056211,38911306,22246967,26082266,49300317,24801053,19936601,53927322,22156402,43168362,38354012,31274923,26676087,21169018,30582336,60645357,26289546,32867184,21032154,19884671,22437008,28725693,298663,30405301,27470522,37827053,25452628,26314816,47586386,22440389,20456290,26437250,71376,35110752,19920510,19855198,23799824,30085971,21960141,20579425,24105870,21752602,23694674,21136014,20779460,62372968,42133105,29622480,25935242,25322289,23350752,19360235,60004918,36111109,29200584,21147856,20203681,23006239,23965783,29187801,30341460,37783369,20156016,32646404,31253181,31481913,27192472,45620397,21289227,56827915,32616425,39000721,49235043,69802538,26400020,54886348,100311,29689285,37910602,22991489,21050172,71289337,20197810,39172600,22180208,19698094,7250,53407717,43501045,21616758,21128221,37542769,20647804,282820,48061115,36450379,22685289,20077628,20914354,26762843,20735218,19912423,28700797,65409092,22603926,25010413,50857,295093,35021554,65550074,38887759,35329178,272354,42872994,22778657,22344323,25005620,30190776,21084089,48171912,65563558,13297,19637662,465551,20188483,19063356,390600,52754982,24945668,32500610,26463128,28665759,66401633,19602876,31559474,69709179,57029156,43197599,26183864,19873955,21803053,32239609,27519370,35301382,35127480,34583468,28609701,33089599,20942144,19099654,21429782,22947917,19250176,25166026,22403576,28749880,23910778,22741717,34191325,20800991,20438735,39262085,27231963,606361,34440853,23338989,65009177,26043408,21701239,43202645,19551420,44979352,36733439,19742611,22993033,24332462,30636032,20142680,55414883,65409100,65319270,26844580,65809586,19088327,20901439,19285521,20115278,19286710,19816394,51589239,22738595,54932626,23960460,35409134,44879120,61587712,21144092,20153677,50169258,22216718,22478427,40938801,28375571,20303983,31616072,58060767,21489141,49399151,58151140,35570736,23353829,32513697,448372,21337269,35564007,36349557,31124201,32002853,48443712,22372028,23196919,21910088,32672912,28987430,23534118,21714331,22724185,26085419,20067790,25531419,26379711,22006649,39880935,40835255,30125892,24777351,32490785,19930588,30845374,23480550,40021837,32608320,20451431,44317220,34725029,22076548,19887289,23623012,40141387,19577112,61840219,56397325,22205540,31804754,47651522,20103061,41849258,19232453,26522373,69892366,37250534,449015,40300130,27921067,20726321,37350711,20389591,39740506,19665819,34304697,23820400,28725499,35501485,26849061,32956830,26573561,21032820,35982575,39439924,35356220,28909536,35490378,24423376,24650555,21539405,71289187,49983291,32235221,60783,477806,35155749,20082683,30420708,26757540,24896116,32578662,34794390,19804152,58829159,21367804,35590582,22417049,31014009,24509853,19209176,25885129,38009899,21390649,34287847,21586721,30421234,19985596,66479175,20000490,33359979,21380690,25220748,25833940,70573527,30157149,20040312,21103810,29182819,22923115,26851284,64887680,32517680,24837798,23162404,36719319,24595867,28039649,33121784,19770082,25243945,621,19738326,49159160,20955426,31473563,21786647,66879182,26383788,20533841,25739133,26059648,23557909,47836799,35681528,21608827,20344570,43860634,20131827,43042552,36782900,29658214,19405174,27291302,44989362,39544048,66939106,66033804,22507642,23702362,19760803,22466506,20024227,64030506,39512940,22928703,22742073,49913379,20739331,36847039,21903966,47727314,21542029,50525968,19986595,21726097,65871129,32969037,47476669,33660106,30963391,23907257,30255016,23765764,23681648,23521729,54888638,21944884,307822,34586908,20026847,26379781,34849307,30106256,19732914,36021684,25116379,22348048,22431892,19648146,29810243,22298866,62583231,24383417,45200856,23501475,39429300,29820724,30854670,45794985,22141445,38752601,37446426,49943354,46995097,39812832,21366420,31670053,129380,36653735,39889138,20176128,36911333,30046249,35703236,19895112,31412372,57539163,31324382,34807542,52394864,27380863,30206248,43810935,21947923,446965,39716911,21238911,20783487,19196558,25051045,23760377,21211528,52372786,30000940,42018127,45188079,39957695,32361559,24618834,23802387,19998293,23897083,34133797,25738593,34671417,22277779,36102181,66052640,47694043,19275688,19346988,44080111,35225679,20704242,170340,19771578,20515552,564332,20408688,19160282,24498822,68469188,24693344,24293682,39724091,31300188,46138193,50670855,23855467,31271272,24826080,21208070,49376137,22466118,20610274,345223,59685,184677,52559520,272132,32653422,29524444,59728303,35796485,419122,25183879,20074883,24491732,23907782,19912360,294827,22015124,40531190,20941323,2648,68499446,21269385,48119569,31133671,27051269,19398382,23479635,38809624,20284768,162762,44989349,31209421,349795,43146839,19696606,21070321,507907,22717779,19926474,24598309,34761215,22300476,29648534,20255471,31436405,28336680,292926,63617158,40984753,26289480,32932398,28910586,23010419,22842898,193759,35433792,25850956,20967047,20694218,19082810,295500,50490414,34983603,34812485,50887553,29248275,31937841,20397533,37928970,21521745,36772950,21402067,42210864,22955225,53373482,44979338,34523885,30587285,24922145,26675704,262255,19682819,39732395,58461138,43229297,21276764,31602758,21339787,13930,20635475,20484031,25387339,24934464,31291239,44989089,24694433,21451895,25433476,40256136,32392626,40129524,21014987,27794083,37481045,71715,27344836,23050296,21611049,20698282,41926290,20188316,20415911,33449302,30420625,20947579,21549025)	

	intSet1.Subtract(intSet2)

	t.Error(intSet1)
}

func TestSize(t *testing.T) {
	
}

func TestValues(t *testing.T) {
	
}
